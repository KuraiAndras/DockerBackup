@page "/backups/{containerName}"

<MudText Typo="@Typo.h4">@ContainerName</MudText>

@if (_backups is null)
{
    <MudProgressCircular Color="Color.Default" Indeterminate="true" />
}
else
{
    <MudIconButton Icon="@Icons.Material.Filled.Cached" title="refresh" OnClick="@Refresh" />

    <MudList T="ContainerBackupResponse">
        <MudListSubheader>
        </MudListSubheader>
        @foreach (var backup in _backups)
        {
            <MudListItem Text="@backup.CreatedAt.ToLocalTime().ToString()">
                <NestedList>
                    @foreach (var file in backup.Files)
                    {
                        <MudListItem Text="@file.ContainerPath" />
                    }
                </NestedList>
            </MudListItem>
        }
    </MudList>
}
